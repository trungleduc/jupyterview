{"version":3,"file":"1769.b600fdf.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter-notebook/tree-extension/lib/fileactions.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter-notebook/tree-extension/lib/index.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { CommandToolbarButtonComponent, ReactWidget, } from '@jupyterlab/apputils';\nimport React from 'react';\nexport class FilesActionButtons {\n    /**\n     * The constructor of FilesActionButtons.\n     * @param options\n     */\n    constructor(options) {\n        /**\n         * Triggered when the selection change in file browser.\n         */\n        this._onSelectionChanged = () => {\n            var _a, _b, _c, _d, _e, _f;\n            const selectedItems = Array.from(this._browser.selectedItems());\n            const selection = selectedItems.length > 0;\n            const oneFolder = selectedItems.some((item) => item.type === 'directory');\n            (_a = this._widgets.get('placeholder')) === null || _a === void 0 ? void 0 : _a.setHidden(selection);\n            (_b = this._widgets.get('delete')) === null || _b === void 0 ? void 0 : _b.setHidden(!selection);\n            (_c = this._widgets.get('duplicate')) === null || _c === void 0 ? void 0 : _c.setHidden(!selection || oneFolder);\n            (_d = this._widgets.get('download')) === null || _d === void 0 ? void 0 : _d.setHidden(!selection || oneFolder);\n            (_e = this._widgets.get('open')) === null || _e === void 0 ? void 0 : _e.setHidden(!selection || oneFolder);\n            (_f = this._widgets.get('rename')) === null || _f === void 0 ? void 0 : _f.setHidden(selectedItems.length !== 1);\n        };\n        this._widgets = new Map();\n        this._browser = options.browser;\n        const { commands, selectionChanged, translator } = options;\n        const trans = translator.load('notebook');\n        // Placeholder, when no file is selected.\n        const placeholder = ReactWidget.create(React.createElement(\"div\", { key: 'placeholder' }, trans.__('Select items to perform actions on them.')));\n        placeholder.id = 'fileAction-placeholder';\n        this._widgets.set('placeholder', placeholder);\n        // The action buttons.\n        const actions = ['open', 'download', 'rename', 'duplicate', 'delete'];\n        actions.forEach((action) => {\n            const widget = ReactWidget.create(React.createElement(CommandToolbarButtonComponent, { key: action, commands: commands, id: `filebrowser:${action}`, args: { toolbar: true }, icon: undefined }));\n            widget.id = `fileAction-${action}`;\n            widget.addClass('jp-ToolbarButton');\n            widget.addClass('jp-FileAction');\n            this._widgets.set(action, widget);\n        });\n        selectionChanged.connect(this._onSelectionChanged, this);\n        this._onSelectionChanged();\n    }\n    /**\n     * Return an iterator with all the action widgets.\n     */\n    get widgets() {\n        return this._widgets.values();\n    }\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { ICommandPalette, IToolbarWidgetRegistry, createToolbarFactory, setToolbar, } from '@jupyterlab/apputils';\nimport { PageConfig } from '@jupyterlab/coreutils';\nimport { Uploader, IDefaultFileBrowser, IFileBrowserFactory, } from '@jupyterlab/filebrowser';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { IRunningSessionManagers, RunningSessions } from '@jupyterlab/running';\nimport { IJSONSettingEditorTracker, ISettingEditorTracker, } from '@jupyterlab/settingeditor';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { caretDownIcon, folderIcon, runningIcon, } from '@jupyterlab/ui-components';\nimport { Signal } from '@lumino/signaling';\nimport { Menu, MenuBar } from '@lumino/widgets';\nimport { NotebookTreeWidget, INotebookTree } from '@jupyter-notebook/tree';\nimport { FilesActionButtons } from './fileactions';\n/**\n * The file browser factory.\n */\nconst FILE_BROWSER_FACTORY = 'FileBrowser';\n/**\n * The file browser plugin id.\n */\nconst FILE_BROWSER_PLUGIN_ID = '@jupyterlab/filebrowser-extension:browser';\n/**\n * The namespace for command IDs.\n */\nvar CommandIDs;\n(function (CommandIDs) {\n    // The command to activate the filebrowser widget in tree view.\n    CommandIDs.activate = 'filebrowser:activate';\n    // Activate the file filter in the file browser\n    CommandIDs.toggleFileFilter = 'filebrowser:toggle-file-filter';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * Plugin to add extra commands to the file browser to create\n * new notebooks, files, consoles and terminals\n */\nconst createNew = {\n    id: '@jupyter-notebook/tree-extension:new',\n    description: 'Plugin to add extra commands to the file browser to create new notebooks, files, consoles and terminals.',\n    requires: [ITranslator],\n    optional: [IToolbarWidgetRegistry],\n    autoStart: true,\n    activate: (app, translator, toolbarRegistry) => {\n        var _a;\n        const { commands, serviceManager } = app;\n        const trans = translator.load('notebook');\n        const overflowOptions = {\n            overflowMenuOptions: { isVisible: false },\n        };\n        const menubar = new MenuBar(overflowOptions);\n        const newMenu = new Menu({ commands });\n        newMenu.title.label = trans.__('New');\n        newMenu.title.icon = caretDownIcon;\n        menubar.addMenu(newMenu);\n        const populateNewMenu = () => {\n            var _a, _b;\n            // create an entry per kernel spec for creating a new notebook\n            const specs = (_b = (_a = serviceManager.kernelspecs) === null || _a === void 0 ? void 0 : _a.specs) === null || _b === void 0 ? void 0 : _b.kernelspecs;\n            for (const name in specs) {\n                newMenu.addItem({\n                    args: { kernelName: name, isLauncher: true },\n                    command: 'notebook:create-new',\n                });\n            }\n            const baseCommands = [\n                'terminal:create-new',\n                'console:create',\n                'filebrowser:create-new-file',\n                'filebrowser:create-new-directory',\n            ];\n            baseCommands.forEach((command) => {\n                newMenu.addItem({ command });\n            });\n        };\n        (_a = serviceManager.kernelspecs) === null || _a === void 0 ? void 0 : _a.specsChanged.connect(() => {\n            newMenu.clearItems();\n            populateNewMenu();\n        });\n        populateNewMenu();\n        if (toolbarRegistry) {\n            toolbarRegistry.addFactory(FILE_BROWSER_FACTORY, 'new-dropdown', (browser) => {\n                const menubar = new MenuBar(overflowOptions);\n                menubar.addMenu(newMenu);\n                menubar.addClass('jp-DropdownMenu');\n                return menubar;\n            });\n        }\n    },\n};\n/**\n * A plugin to add file browser actions to the file browser toolbar.\n */\nconst fileActions = {\n    id: '@jupyter-notebook/tree-extension:file-actions',\n    description: 'A plugin to add file browser actions to the file browser toolbar.',\n    autoStart: true,\n    requires: [IDefaultFileBrowser, IToolbarWidgetRegistry, ITranslator],\n    activate: (app, browser, toolbarRegistry, translator) => {\n        // TODO: use upstream signal when available to detect selection changes\n        // https://github.com/jupyterlab/jupyterlab/issues/14598\n        const selectionChanged = new Signal(browser);\n        const methods = [\n            '_selectItem',\n            '_handleMultiSelect',\n            'handleFileSelect',\n        ];\n        methods.forEach((method) => {\n            const original = browser['listing'][method];\n            browser['listing'][method] = (...args) => {\n                original.call(browser['listing'], ...args);\n                selectionChanged.emit(void 0);\n            };\n        });\n        browser.model.pathChanged.connect(() => {\n            selectionChanged.emit(void 0);\n        });\n        // Create a toolbar item that adds buttons to the file browser toolbar\n        // to perform actions on the files\n        const { commands } = app;\n        const fileActions = new FilesActionButtons({\n            commands,\n            browser,\n            selectionChanged,\n            translator,\n        });\n        for (const widget of fileActions.widgets) {\n            toolbarRegistry.addFactory(FILE_BROWSER_FACTORY, widget.id, () => widget);\n        }\n    },\n};\n/**\n * A plugin to set the default file browser settings.\n */\nconst fileBrowserSettings = {\n    id: '@jupyter-notebook/tree-extension:settings',\n    description: 'Set up the default file browser settings',\n    requires: [IDefaultFileBrowser],\n    optional: [ISettingRegistry],\n    autoStart: true,\n    activate: (app, browser, settingRegistry) => {\n        // Default config for notebook.\n        // This is a different set of defaults than JupyterLab.\n        const defaultFileBrowserConfig = {\n            navigateToCurrentDirectory: false,\n            singleClickNavigation: true,\n            showLastModifiedColumn: true,\n            showFileSizeColumn: true,\n            showHiddenFiles: false,\n            showFileCheckboxes: true,\n            sortNotebooksFirst: true,\n            showFullPath: false,\n        };\n        // Apply defaults on plugin activation\n        let key;\n        for (key in defaultFileBrowserConfig) {\n            browser[key] = defaultFileBrowserConfig[key];\n        }\n        if (settingRegistry) {\n            void settingRegistry.load(FILE_BROWSER_PLUGIN_ID).then((settings) => {\n                function onSettingsChanged(settings) {\n                    let key;\n                    for (key in defaultFileBrowserConfig) {\n                        const value = settings.get(key).user;\n                        // only set the setting if it is defined by the user\n                        if (value !== undefined) {\n                            browser[key] = value;\n                        }\n                    }\n                }\n                settings.changed.connect(onSettingsChanged);\n                onSettingsChanged(settings);\n            });\n        }\n    },\n};\n/**\n * A plugin to add the file filter toggle command to the palette\n */\nconst fileFilterCommand = {\n    id: '@jupyter-notebook/tree-extension:file-filter-command',\n    description: 'A plugin to add file filter command to the palette.',\n    autoStart: true,\n    optional: [ICommandPalette],\n    activate: (app, palette) => {\n        if (palette) {\n            palette.addItem({\n                command: CommandIDs.toggleFileFilter,\n                category: 'File Browser',\n            });\n        }\n    },\n};\n/**\n * Plugin to load the default plugins that are loaded on all the Notebook pages\n * (tree, edit, view, etc.) so they are visible in the settings editor.\n */\nconst loadPlugins = {\n    id: '@jupyter-notebook/tree-extension:load-plugins',\n    description: 'Plugin to load the default plugins that are loaded on all the Notebook pages (tree, edit, view, etc.) so they are visible in the settings editor.',\n    autoStart: true,\n    requires: [ISettingRegistry],\n    activate(app, settingRegistry) {\n        const { isDisabled } = PageConfig.Extension;\n        const connector = settingRegistry.connector;\n        const allPluginsOption = PageConfig.getOption('allPlugins');\n        if (!allPluginsOption) {\n            return;\n        }\n        // build the list of plugins shipped by default on the all the notebook pages\n        // this avoid explicitly loading `'all'` plugins such as the ones used\n        // in JupyterLab only\n        const allPlugins = JSON.parse(allPluginsOption);\n        const pluginsSet = new Set();\n        Object.keys(allPlugins).forEach((key) => {\n            const extensionsAndPlugins = allPlugins[key];\n            Object.keys(extensionsAndPlugins).forEach((plugin) => {\n                const value = extensionsAndPlugins[plugin];\n                if (typeof value === 'boolean' && value) {\n                    pluginsSet.add(plugin);\n                }\n                else if (Array.isArray(value)) {\n                    value.forEach((v) => {\n                        pluginsSet.add(v);\n                    });\n                }\n            });\n        });\n        app.restored.then(async () => {\n            const plugins = await connector.list('all');\n            plugins.ids.forEach(async (id) => {\n                const [extension] = id.split(':');\n                // load the plugin if it is built-in the notebook application explicitly\n                // either included as an extension or as a plugin directly\n                const hasPlugin = pluginsSet.has(extension) || pluginsSet.has(id);\n                if (!hasPlugin || isDisabled(id) || id in settingRegistry.plugins) {\n                    return;\n                }\n                try {\n                    await settingRegistry.load(id);\n                }\n                catch (error) {\n                    console.warn(`Settings failed to load for (${id})`, error);\n                }\n            });\n        });\n    },\n};\n/**\n * A plugin to add file browser commands for the tree view.\n */\nconst openFileBrowser = {\n    id: '@jupyter-notebook/tree-extension:open-file-browser',\n    description: 'A plugin to add file browser commands for the tree view.',\n    requires: [INotebookTree, IDefaultFileBrowser],\n    autoStart: true,\n    activate: (app, notebookTree, browser) => {\n        const { commands } = app;\n        commands.addCommand(CommandIDs.activate, {\n            execute: () => {\n                notebookTree.currentWidget = browser;\n            },\n        });\n    },\n};\n/**\n * A plugin to add the file browser widget to an INotebookShell\n */\nconst notebookTreeWidget = {\n    id: '@jupyter-notebook/tree-extension:widget',\n    description: 'A plugin to add the file browser widget to an INotebookShell.',\n    requires: [\n        IDefaultFileBrowser,\n        ITranslator,\n        ISettingRegistry,\n        IToolbarWidgetRegistry,\n        IFileBrowserFactory,\n    ],\n    optional: [\n        IRunningSessionManagers,\n        ISettingEditorTracker,\n        IJSONSettingEditorTracker,\n    ],\n    autoStart: true,\n    provides: INotebookTree,\n    activate: (app, browser, translator, settingRegistry, toolbarRegistry, factory, manager, settingEditorTracker, jsonSettingEditorTracker) => {\n        const nbTreeWidget = new NotebookTreeWidget();\n        const trans = translator.load('notebook');\n        browser.title.label = trans.__('Files');\n        browser.node.setAttribute('role', 'region');\n        browser.node.setAttribute('aria-label', trans.__('File Browser Section'));\n        browser.title.icon = folderIcon;\n        nbTreeWidget.addWidget(browser);\n        nbTreeWidget.tabBar.addTab(browser.title);\n        nbTreeWidget.tabsMovable = false;\n        toolbarRegistry.addFactory(FILE_BROWSER_FACTORY, 'uploader', (browser) => new Uploader({\n            model: browser.model,\n            translator,\n            label: trans.__('Upload'),\n        }));\n        setToolbar(browser, createToolbarFactory(toolbarRegistry, settingRegistry, FILE_BROWSER_FACTORY, notebookTreeWidget.id, translator));\n        if (manager) {\n            const running = new RunningSessions(manager, translator);\n            running.id = 'jp-running-sessions-tree';\n            running.title.label = trans.__('Running');\n            running.title.icon = runningIcon;\n            nbTreeWidget.addWidget(running);\n            nbTreeWidget.tabBar.addTab(running.title);\n        }\n        app.shell.add(nbTreeWidget, 'main', { rank: 100 });\n        // add a separate tab for each setting editor\n        [settingEditorTracker, jsonSettingEditorTracker].forEach((editorTracker) => {\n            if (editorTracker) {\n                editorTracker.widgetAdded.connect((_, editor) => {\n                    nbTreeWidget.addWidget(editor);\n                    nbTreeWidget.tabBar.addTab(editor.title);\n                    nbTreeWidget.currentWidget = editor;\n                });\n            }\n        });\n        const { tracker } = factory;\n        // TODO: remove\n        // Workaround to force the focus on the default file browser\n        // See https://github.com/jupyterlab/jupyterlab/issues/15629 for more info\n        const setCurrentToDefaultBrower = () => {\n            tracker['_pool'].current = browser;\n        };\n        tracker.widgetAdded.connect((sender, widget) => {\n            setCurrentToDefaultBrower();\n        });\n        setCurrentToDefaultBrower();\n        return nbTreeWidget;\n    },\n};\n/**\n * Export the plugins as default.\n */\nconst plugins = [\n    createNew,\n    fileActions,\n    fileBrowserSettings,\n    fileFilterCommand,\n    loadPlugins,\n    openFileBrowser,\n    notebookTreeWidget,\n];\nexport default plugins;\n"],"names":["FilesActionButtons","constructor","options","this","_onSelectionChanged","_a","_b","_c","_d","_e","_f","selectedItems","Array","from","_browser","selection","length","oneFolder","some","item","type","_widgets","get","setHidden","Map","browser","commands","selectionChanged","translator","trans","load","placeholder","ReactWidget","create","key","__","id","set","forEach","action","widget","CommandToolbarButtonComponent","args","toolbar","icon","undefined","addClass","connect","widgets","values","FILE_BROWSER_FACTORY","CommandIDs","activate","toggleFileFilter","createNew","description","requires","ITranslator","optional","IToolbarWidgetRegistry","autoStart","app","toolbarRegistry","serviceManager","overflowOptions","overflowMenuOptions","isVisible","menubar","MenuBar","newMenu","Menu","title","label","caretDownIcon","addMenu","populateNewMenu","specs","kernelspecs","name","addItem","kernelName","isLauncher","command","specsChanged","clearItems","addFactory","fileActions","IDefaultFileBrowser","Signal","method","original","call","emit","model","pathChanged","fileBrowserSettings","ISettingRegistry","settingRegistry","defaultFileBrowserConfig","navigateToCurrentDirectory","singleClickNavigation","showLastModifiedColumn","showFileSizeColumn","showHiddenFiles","showFileCheckboxes","sortNotebooksFirst","showFullPath","then","settings","onSettingsChanged","value","user","changed","fileFilterCommand","ICommandPalette","palette","category","loadPlugins","isDisabled","PageConfig","Extension","connector","allPluginsOption","getOption","allPlugins","JSON","parse","pluginsSet","Set","Object","keys","extensionsAndPlugins","plugin","add","isArray","v","restored","async","list","ids","extension","split","has","plugins","error","console","warn","openFileBrowser","INotebookTree","notebookTree","addCommand","execute","currentWidget","notebookTreeWidget","IFileBrowserFactory","IRunningSessionManagers","ISettingEditorTracker","IJSONSettingEditorTracker","provides","factory","manager","settingEditorTracker","jsonSettingEditorTracker","nbTreeWidget","NotebookTreeWidget","node","setAttribute","folderIcon","addWidget","tabBar","addTab","tabsMovable","Uploader","setToolbar","createToolbarFactory","running","RunningSessions","runningIcon","shell","rank","editorTracker","widgetAdded","_","editor","tracker","setCurrentToDefaultBrower","current","sender"],"sourceRoot":""}